import {HtmlEscapedString, a, div, escHtml, header} from "structr-composer";
import DarkModeToggle from "../DarkModeToggle";
import Button from "../Button";
import PageFooter from "../modules/PageFooter";

const router = [
  {
    title: "Documentation",
    path: "/#/docs/introduction",
    selected: `document?.location?.hash.includes('#/docs/')`,
  },
  {
    title: "Examples",
    path: "/#/example",
    selected: `document?.location?.hash.includes('#/example')`,
  },
  {
    title: "Github",
    path: "https://www.google.com",
    selected: "false",
  },
];

const lightIcon = escHtml`<svg width="36" height="11" viewBox="0 0 36 11" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.86328 0.917969C1.86328 0.917969 3.11523 0.917969 5.61914 0.917969C5.69727 0.917969 5.76953 0.927734 5.83594 0.947266C6.05078 1.01758 6.1582 1.16602 6.1582 1.39258C6.1582 1.45508 6.14453 1.51367 6.11719 1.56836C6.03906 1.73633 5.88281 1.83789 5.64844 1.87305H2.27344L1.86328 5.07812H4.29492C4.38867 5.07812 4.47656 5.0957 4.55859 5.13086C4.75 5.2168 4.8457 5.36328 4.8457 5.57031C4.8457 5.625 4.83594 5.67773 4.81641 5.72852C4.74609 5.90039 4.58594 6.00586 4.33594 6.04492H1.74609L1.35938 9.0332H4.69336C4.7832 9.0332 4.86719 9.04688 4.94531 9.07422C5.14844 9.15625 5.25 9.30469 5.25 9.51953C5.25 9.56641 5.24219 9.61523 5.22656 9.66602C5.16406 9.84961 5.00391 9.96094 4.74609 10H0.837891C0.740234 10 0.650391 9.97461 0.568359 9.92383C0.412109 9.81836 0.333984 9.6543 0.333984 9.43164C0.333984 9.37695 0.6875 6.6875 1.39453 1.36328C1.40234 1.30469 1.41797 1.25 1.44141 1.19922C1.52344 1.01172 1.66406 0.917969 1.86328 0.917969ZM6.98438 5.48828C6.98438 5.06641 7.02344 4.6543 7.10156 4.25195C7.29688 3.27148 7.68164 2.47266 8.25586 1.85547C8.81836 1.25 9.45312 0.947266 10.1602 0.947266C10.4492 0.947266 10.7344 1.00195 11.0156 1.11133C11.6445 1.36523 12.1699 1.85156 12.5918 2.57031C13.0879 3.41406 13.3359 4.38672 13.3359 5.48828C13.3359 5.90625 13.2969 6.31641 13.2188 6.71875C13.0234 7.69922 12.6387 8.49805 12.0645 9.11523C11.502 9.7168 10.8672 10.0176 10.1602 10.0176C9.87109 10.0176 9.58789 9.96289 9.31055 9.85352C8.68164 9.60742 8.1543 9.125 7.72852 8.40625C7.23242 7.5625 6.98438 6.58984 6.98438 5.48828ZM8.03906 5.50586C8.03906 5.67383 8.04688 5.8418 8.0625 6.00977C8.14062 6.89258 8.39062 7.61719 8.8125 8.18359C9.20312 8.70312 9.65234 8.96289 10.1602 8.96289C10.2617 8.96289 10.3633 8.95117 10.4648 8.92773C10.9492 8.81445 11.3613 8.47266 11.7012 7.90234C12.0957 7.23438 12.293 6.43555 12.293 5.50586C12.293 5.33789 12.2852 5.16797 12.2695 4.99609C12.1914 4.10547 11.9395 3.375 11.5137 2.80469C11.123 2.28125 10.6719 2.01953 10.1602 2.01953C10.0586 2.01953 9.95703 2.03125 9.85547 2.05469C9.375 2.16797 8.9668 2.51172 8.63086 3.08594C8.23633 3.75781 8.03906 4.56445 8.03906 5.50586ZM13.916 8.23633C13.916 8.14258 13.9414 8.05273 13.9922 7.9668C14.0938 7.79492 14.2441 7.70898 14.4434 7.70898C14.6074 7.71289 14.7441 7.7832 14.8535 7.91992C14.8574 7.92383 14.8613 7.92969 14.8652 7.9375C15.4238 8.66016 16.0605 9.02148 16.7754 9.02148C16.8301 9.02148 16.8848 9.01953 16.9395 9.01562C17.5215 8.97266 18.0117 8.74023 18.4102 8.31836C18.8125 7.89258 19.0137 7.38477 19.0137 6.79492C19.0137 6.73633 19.0117 6.67578 19.0078 6.61328C18.9609 6.05469 18.7363 5.57812 18.334 5.18359C17.9199 4.77734 17.4297 4.57422 16.8633 4.57422C16.7891 4.57422 16.6621 4.60352 16.4824 4.66211C16.1699 4.75977 16.002 4.80859 15.9785 4.80859C15.8848 4.80859 15.793 4.78125 15.7031 4.72656C15.5273 4.62109 15.4395 4.47266 15.4395 4.28125C15.4395 4.23438 15.5918 3.27539 15.8965 1.4043C15.9082 1.33398 15.9355 1.26758 15.9785 1.20508C16.0879 1.03711 16.2461 0.953125 16.4531 0.953125H18.832C18.9297 0.953125 19.0234 0.980469 19.1133 1.03516C19.2812 1.14062 19.3652 1.29102 19.3652 1.48633C19.3652 1.58398 19.3379 1.67578 19.2832 1.76172C19.1777 1.92969 19.0254 2.01367 18.8262 2.01367H16.875L16.6523 3.49609L16.7754 3.48438C17.0215 3.48438 17.2656 3.51172 17.5078 3.56641C18.2305 3.73438 18.8281 4.10547 19.3008 4.67969C19.8008 5.28516 20.0508 5.98242 20.0508 6.77148C20.0508 7.02148 20.0254 7.26367 19.9746 7.49805C19.8145 8.27539 19.4199 8.90234 18.791 9.37891C18.1973 9.82812 17.5254 10.0527 16.7754 10.0527C16.3418 10.0527 15.9141 9.9668 15.4922 9.79492C14.8164 9.51367 14.3105 9.07812 13.9746 8.48828C13.9355 8.42188 13.916 8.33789 13.916 8.23633ZM22.2129 9.47266C22.2129 9.37109 22.2383 9.27734 22.2891 9.19141C22.3945 9.01953 22.5449 8.93359 22.7402 8.93359C22.8418 8.93359 22.9355 8.96094 23.0215 9.01562C23.1934 9.11719 23.2793 9.26953 23.2793 9.47266C23.2793 9.57031 23.252 9.66211 23.1973 9.74805C23.0918 9.91602 22.9395 10 22.7402 10C22.6426 10 22.5488 9.97266 22.459 9.91797C22.2949 9.8125 22.2129 9.66406 22.2129 9.47266ZM29.4668 9.51953C29.4668 9.52344 29.4668 9.5293 29.4668 9.53711C29.4199 9.8457 29.2598 10 28.9863 10C28.8965 10 28.8164 9.97656 28.7461 9.92969C28.5898 9.82812 28.5117 9.66211 28.5117 9.43164C28.5117 9.38477 28.5273 9.21484 28.5586 8.92188C28.4023 9.16406 28.2031 9.37305 27.9609 9.54883C27.5352 9.84961 27.0684 10 26.5605 10C26.4746 10 26.3867 9.99414 26.2969 9.98242C25.6953 9.89648 25.1973 9.53906 24.8027 8.91016C24.3652 8.21094 24.1465 7.33594 24.1465 6.28516C24.1465 5.27344 24.334 3.7207 24.709 1.62695C24.7285 1.51367 24.7402 1.44336 24.7441 1.41602C24.7559 1.36133 24.7715 1.30664 24.791 1.25195C24.877 1.05273 25.0137 0.953125 25.2012 0.953125C25.2754 0.953125 25.3477 0.972656 25.418 1.01172C25.5742 1.09766 25.6582 1.23242 25.6699 1.41602C25.6543 1.50586 25.6367 1.61328 25.6172 1.73828C25.3008 3.72266 25.1426 5.125 25.1426 5.94531C25.1426 6.82031 25.2598 7.5332 25.4941 8.08398C25.7637 8.72461 26.1523 9.04492 26.6602 9.04492C26.707 9.04492 26.7559 9.04102 26.8066 9.0332C27.1895 8.95898 27.584 8.64453 27.9902 8.08984C28.4512 7.46094 28.7773 6.73242 28.9688 5.9043L29.5664 1.41602C29.5703 1.3418 29.5898 1.27148 29.625 1.20508C29.7109 1.03711 29.8477 0.953125 30.0352 0.953125C30.1094 0.953125 30.1797 0.972656 30.2461 1.01172C30.4023 1.09766 30.4883 1.23242 30.5039 1.41602C30.457 1.77148 30.4043 2.18164 30.3457 2.64648C29.7715 7.17383 29.4785 9.46484 29.4668 9.51953ZM35.8945 1.42188C35.8945 1.42969 35.8828 1.5332 35.8594 1.73242C35.3203 6.2793 35.0059 8.85938 34.916 9.47266C34.9121 9.49219 34.9082 9.51172 34.9043 9.53125C34.834 9.84375 34.6562 10 34.3711 10C34.2617 10 34.1641 9.9707 34.0781 9.91211C33.9141 9.79492 33.832 9.61523 33.832 9.37305C33.832 9.34961 34.125 7.12891 34.7109 2.71094C34.5859 2.83203 34.4316 2.98438 34.248 3.16797C33.5254 3.88672 33.0215 4.37109 32.7363 4.62109C32.6191 4.74219 32.4844 4.80469 32.332 4.80859C32.2578 4.80859 32.1875 4.79688 32.1211 4.77344C31.9297 4.69922 31.834 4.54297 31.834 4.30469C31.834 4.15625 31.9023 4.01562 32.0391 3.88281C32.0391 3.88281 32.9004 3.0625 34.623 1.42188C34.9746 1.10938 35.2227 0.953125 35.3672 0.953125C35.4727 0.953125 35.5664 0.976562 35.6484 1.02344C35.8125 1.11719 35.8945 1.25 35.8945 1.42188Z" fill="black"/>
</svg>
`;

export default function (children: HtmlEscapedString) {
  const navBarClass =
    "border-b sticky top-0 left-0 bg-background/90 border-border z-50 backdrop-blur-sm";
  const navBarContainerClass =
    "flex flex-row justify-between w-full items-center max-w-7xl mx-auto px-4 py-2 ";

  return div(
    {class: "w-full"},
    header(
      {class: navBarClass},
      div(
        {class: navBarContainerClass},
        div(
          {class: "flex flex-row space-x-6 items-center"},
          a(
            {
              class: "font-bold tracking-tighter mr-2",
              href: "/#/",
            },
            escHtml`eos.ui`
          ),
          ...(router || []).map(({title, path, selected}) =>
            Button(
              {
                ":class": `${selected} ? 'font-medium!': 'text-muted-foreground!' `,
                class: "p-0 justify-start h-fit font-normal hidden md:block",
                variant: "link",
                href: `${path}`,
              },
              escHtml`${title}`
            )
          )
        ),
        DarkModeToggle({class: "w-8 h-8"})
      )
    ),
    children,
    PageFooter()
  );
}
